---
import Logo from "../assets/logo.svg";
---

<header
    class="fixed top-0 left-0 z-50 w-full bg-transparent backdrop-blur-md border-b border-base-300/20 shadow-sm text-white"
>
    <nav class="navbar w-full px-4 md:px-8 lg:px-16 h-16 md:h-18 lg:h-20">
        <div class="navbar-start">
            <div class="flex items-center gap-1">
                <img
                    src={Logo.src}
                    alt="Logo"
                    class="h-10 md:h-11 lg:h-12 w-auto"
                    style="image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges;"
                />
            </div>
        </div>

        <!-- Menu hamburger pour mobile et tablette -->
        <div class="navbar-end lg:hidden">
            <button
                id="menu-toggle"
                class="btn btn-ghost btn-circle"
                aria-label="Menu"
                aria-expanded="false"
            >
                <div class="flex flex-col gap-1.5">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </div>
            </button>
        </div>

        <!-- Menu desktop -->
        <div class="navbar-end hidden lg:flex">
            <ul
                class="menu menu-horizontal gap-6 p-0 flex flex-nowrap nav-menu"
            >
                <li>
                    <a
                        href="#a-propos"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        À PROPOS
                    </a>
                </li>
                <li>
                    <a
                        href="#parcours"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        PARCOURS
                    </a>
                </li>
                <li>
                    <a
                        href="#competences"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        COMPÉTENCES
                    </a>
                </li>
                <li>
                    <a
                        href="#outils"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        OUTILS
                    </a>
                </li>
                <li>
                    <a
                        href="#projets"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        PROJETS
                    </a>
                </li>
                <li>
                    <a
                        href="#contact"
                        class="nav-link ts-Button font-normal uppercase tracking-wider transition-colors hover:text-primary"
                    >
                        CONTACT
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<!-- Menu mobile/tablette (en dehors du header) -->
<nav
    id="mobile-menu"
    class="fixed lg:hidden inset-0 bg-black/95 backdrop-blur-lg flex-col gap-4 hidden overflow-y-auto pt-24 md:pt-28 px-4"
    style="z-index: 40;"
>
    <a
        href="#a-propos"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        À PROPOS
    </a>
    <a
        href="#parcours"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        PARCOURS
    </a>
    <a
        href="#competences"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        COMPÉTENCES
    </a>
    <a
        href="#outils"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        OUTILS
    </a>
    <a
        href="#projets"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        PROJETS
    </a>
    <a
        href="#contact"
        class="mobile-nav-link ts-Button text-xl md:text-2xl font-normal uppercase tracking-wider text-white hover:text-secondary transition-colors duration-200 px-6 py-8 border-b border-white/10 hover:bg-white/5"
    >
        CONTACT
    </a>
</nav>

<script>
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    menuToggle?.addEventListener("click", () => {
        const isOpen = menuToggle.getAttribute("aria-expanded") === "true";
        menuToggle.setAttribute("aria-expanded", isOpen ? "false" : "true");
        mobileMenu?.classList.toggle("hidden");
    });

    // Fermer le menu quand on clique sur un lien
    const menuLinks = mobileMenu?.querySelectorAll("a");
    menuLinks?.forEach((link) => {
        link.addEventListener("click", () => {
            menuToggle?.setAttribute("aria-expanded", "false");
            mobileMenu?.classList.add("hidden");
        });
    });
</script>

<style>
    .nav-menu {
        position: relative;
    }

    .nav-link {
        position: relative;
        display: inline-block;
        color: inherit;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .nav-link::after {
        content: "";
        position: absolute;
        bottom: -8px;
        left: 0;
        width: 0;
        height: 2px;
        background: currentColor;
        transition:
            width 0.3s ease,
            left 0.3s ease;
    }

    .nav-link:hover::after {
        width: 100%;
        background: rgb(255, 255, 255);
    }

    .nav-link:hover {
        color: rgb(255, 255, 255);
    }

    /* Hamburger animation */
    .hamburger-line {
        display: block;
        width: 28px;
        height: 2.5px;
        background-color: white;
        border-radius: 2px;
        transform-origin: center;
        transition: all 0.3s ease-in-out;
    }

    #menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
    }

    #menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(2) {
        opacity: 0;
    }

    #menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
    }

    /* Mobile menu animation */
    #mobile-menu {
        display: flex;
    }

    #mobile-menu.hidden {
        display: none;
    }

    #mobile-menu {
        animation: slideIn 0.3s ease-in-out forwards;
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
