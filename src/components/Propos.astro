---
import Photo from "../assets/photo.webp";
---

<section
    id="a-propos"
    class="relative text-white px-4 md:px-16 lg:px-32 flex flex-col lg:flex-row lg:items-start lg:justify-between lg:pr-32 py-12 lg:py-18"
>
    <div class="neon-bar-container">
        <div class="neon-bar"></div>
    </div>

    <!-- Photo (en premier pour mobile/tablette) -->
    <div
        class="shrink-0 relative pt-8 md:pt-20 lg:pt-32 lg:order-2 flex justify-center lg:justify-start photo-container"
    >
        <!-- Ellipse bleue animée -->
        <div
            class="absolute top-[60%] left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none ellipse-container"
        >
            <div class="ellipse-blue"></div>
        </div>
        <img
            src={Photo.src}
            alt="Loréna Chevallot"
            class="w-auto h-[30vh] md:h-[50vh] lg:h-[60dvh] relative z-10 object-cover object-center"
        />
    </div>

    <div
        class="max-w-7xl relative z-10 pt-4 md:pt-16 lg:pt-16 px-4 md:px-8 lg:pl-16 lg:order-1 self-start content-container"
    >
        <div class="flex lg:gap-8 items-start">
            <!-- Contenu principal -->
            <div class="max-w-2xl pl-6 md:pl-8 lg:pl-0">
                <h2
                    class="text-white uppercase tracking-widest mb-6 md:mb-8 inline-block lg:text-[72px]"
                >
                    À PROPOS
                </h2>

                <!-- Ligne décorative -->
                <div
                    class="lg:hidden mb-6"
                    style="width: fit-content; height: 2px; background: #ffffff; box-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.4);"
                >
                    <span
                        class="uppercase tracking-widest"
                        style="font-size: 22px !important; font-weight: 200 !important; opacity: 0; pointer-events: none;"
                        >À PROPOS</span
                    >
                </div>

                <div
                    class="hidden lg:block"
                    style="width: fit-content; height: 2px; background: #ffffff; box-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.4); margin-bottom: 32px;"
                >
                    <span
                        class="uppercase tracking-widest"
                        style="font-size: 72px !important; font-weight: 200 !important; opacity: 0; pointer-events: none;"
                        >À PROPOS</span
                    >
                </div>

                <h3
                    class="italic text-white text-base md:text-lg lg:text-xl mb-6 md:mb-8"
                >
                    JE M'APPELLE LORÉNA CHEVALLOT...
                </h3>

                <div
                    class="text-white text-sm md:text-base lg:text-lg leading-relaxed space-y-3 md:space-y-4"
                >
                    <p>
                        Depuis toujours, je suis passionnée par l'histoire, les
                        récits, ce qui nous lie et ce qui nous marque.
                    </p>
                    <p>
                        Aujourd'hui, je suis étudiante en BUT MMI à Montbéliard,
                        avec une envie claire : travailler dans la
                        communication. J'aime écrire, réfléchir à un message, à
                        un ton, à des contenus qui ont du sens, et trouver la
                        bonne façon de toucher un public. Je cherche une
                        alternance dans ce domaine, pour continuer à apprendre,
                        à gagner en méthode et à me confronter à des projets
                        concrets.
                    </p>
                </div>

                <!-- Boutons -->
                <div
                    class="flex flex-row gap-3 md:gap-4 lg:gap-6 pt-8 md:pt-10 lg:pt-16"
                >
                    <a
                        href="https://www.linkedin.com/in/votre-profil"
                        target="_blank"
                        class="btn bg-white text-black hover:bg-secondary hover:text-white transition-all duration-300 uppercase flex items-center justify-between px-4 py-3 lg:px-8 lg:py-5 h-auto min-h-0 rounded-xl text-xs lg:text-base"
                    >
                        <span>MON LINKEDIN</span>
                        <svg
                            class="w-3 h-3 lg:w-5 lg:h-5 ml-2"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>

                    <a
                        href="/cv.pdf"
                        download
                        class="btn bg-white text-black hover:bg-secondary hover:text-white transition-all duration-300 uppercase flex items-center justify-between px-4 py-3 lg:px-8 lg:py-5 h-auto min-h-0 rounded-xl text-xs lg:text-base"
                    >
                        <span>MON CV</span>
                        <svg
                            class="w-3 h-3 lg:w-5 lg:h-5 ml-2"
                            fill="none"
                            stroke="currentColor"
                            viewBox="0 0 24 24"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    /* Masquer le contenu au chargement en version lg */
    @media (min-width: 1024px) {
        .content-container,
        .photo-container {
            opacity: 0;
        }

        .content-container.revealed,
        .photo-container.revealed {
            animation: fadeIn 0.6s ease-out forwards;
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .neon-bar-container {
        position: absolute;
        top: 55%;
        left: 8%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        z-index: 1;
    }

    /* Animation de déplacement du néon en version lg */
    @media (min-width: 1024px) {
        .neon-bar-container {
            animation: neonTravel 3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
    }

    @keyframes neonTravel {
        0% {
            left: -5%;
        }
        50% {
            left: 110%;
        }
        100% {
            left: 8%;
        }
    }

    .neon-bar {
        width: 8px;
        height: 80%;
        background: linear-gradient(
            to right,
            transparent,
            rgba(255, 255, 255, 0.9) 45%,
            #ffffff 50%,
            rgba(255, 255, 255, 0.9) 55%,
            transparent
        );
        position: relative;
        border-radius: 4px;

        /* Effet néon principal */
        box-shadow: 
            /* Halo intérieur blanc */
            inset 0 0 10px rgba(255, 255, 255, 0.9),
            inset 0 0 20px rgba(255, 255, 255, 0.6),
            /* Première couche de lueur bleue */ 0 0 10px #3600c9,
            0 0 20px #3600c9,
            0 0 30px #3600c9,
            0 0 40px #3600c9,
            /* Deuxième couche plus diffuse */ 0 0 60px rgba(54, 0, 201, 0.8),
            0 0 80px rgba(54, 0, 201, 0.6),
            0 0 100px rgba(54, 0, 201, 0.4),
            /* Halo très diffus */ 0 0 140px rgba(54, 0, 201, 0.3),
            0 0 180px rgba(54, 0, 201, 0.2);
    }

    /* Pulsation du néon après l'animation */
    @media (min-width: 1024px) {
        .neon-bar {
            animation: neon-pulse 2s ease-in-out 3s infinite alternate;
        }
    }

    @media (max-width: 1023px) {
        .neon-bar {
            animation: neon-pulse 2s ease-in-out infinite alternate;
        }
    }

    /* Animation de pulsation pour un effet plus réaliste */
    @keyframes neon-pulse {
        0% {
            box-shadow:
                inset 0 0 10px rgba(255, 255, 255, 0.9),
                inset 0 0 20px rgba(255, 255, 255, 0.6),
                0 0 10px #3600c9,
                0 0 20px #3600c9,
                0 0 30px #3600c9,
                0 0 40px #3600c9,
                0 0 60px rgba(54, 0, 201, 0.8),
                0 0 80px rgba(54, 0, 201, 0.6),
                0 0 100px rgba(54, 0, 201, 0.4),
                0 0 140px rgba(54, 0, 201, 0.3),
                0 0 180px rgba(54, 0, 201, 0.2);
        }
        100% {
            box-shadow:
                inset 0 0 12px rgba(255, 255, 255, 1),
                inset 0 0 24px rgba(255, 255, 255, 0.7),
                0 0 15px #3600c9,
                0 0 25px #3600c9,
                0 0 35px #3600c9,
                0 0 50px #3600c9,
                0 0 70px rgba(54, 0, 201, 0.9),
                0 0 90px rgba(54, 0, 201, 0.7),
                0 0 120px rgba(54, 0, 201, 0.5),
                0 0 160px rgba(54, 0, 201, 0.4),
                0 0 200px rgba(54, 0, 201, 0.3);
        }
    }

    /* Ellipse bleue animée */
    .ellipse-container {
        z-index: 0;
    }

    .ellipse-blue {
        width: 300px;
        height: 300px;
        background: radial-gradient(
            circle,
            rgba(54, 0, 201, 0.9) 0%,
            rgba(54, 0, 201, 0.6) 30%,
            rgba(54, 0, 201, 0.4) 60%,
            transparent 85%
        );
        border-radius: 50%;
        animation: ellipse-pulse 4s ease-in-out infinite;
        filter: blur(30px);
    }

    @media (min-width: 768px) {
        .ellipse-blue {
            width: 600px;
            height: 600px;
            background: radial-gradient(
                circle,
                rgba(54, 0, 201, 0.8) 0%,
                rgba(54, 0, 201, 0.5) 30%,
                rgba(54, 0, 201, 0.3) 60%,
                transparent 85%
            );
            filter: blur(35px);
        }
    }

    @media (min-width: 1024px) {
        .ellipse-blue {
            width: 800px;
            height: 800px;
            background: radial-gradient(
                circle,
                rgba(54, 0, 201, 0.7) 0%,
                rgba(54, 0, 201, 0.4) 30%,
                rgba(54, 0, 201, 0.2) 60%,
                transparent 85%
            );
            filter: blur(40px);
        }
    }

    @keyframes ellipse-pulse {
        0%,
        100% {
            transform: scale(1);
            opacity: 0.8;
        }
        50% {
            transform: scale(1.15);
            opacity: 1;
        }
    }
</style>

<script>
    // Animation uniquement pour la version desktop (lg)
    if (window.innerWidth >= 1024) {
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        // Révéler le contenu pendant que le néon revient (après 1.5s, quand il repart de droite à gauche)
                        setTimeout(() => {
                            const contentContainer = document.querySelector(
                                ".content-container",
                            ) as HTMLElement;
                            const photoContainer = document.querySelector(
                                ".photo-container",
                            ) as HTMLElement;

                            if (contentContainer) {
                                contentContainer.classList.add("revealed");
                            }
                            if (photoContainer) {
                                photoContainer.classList.add("revealed");
                            }
                        }, 1800);

                        // Ne plus observer après la première animation
                        observer.disconnect();
                    }
                });
            },
            {
                threshold: 0.2,
            },
        );

        const section = document.querySelector("#a-propos");
        if (section) {
            observer.observe(section);
        }
    } else {
        // Pour mobile/tablette, afficher le contenu immédiatement
        const contentContainer = document.querySelector(
            ".content-container",
        ) as HTMLElement;
        const photoContainer = document.querySelector(
            ".photo-container",
        ) as HTMLElement;

        if (contentContainer) {
            contentContainer.style.opacity = "1";
        }
        if (photoContainer) {
            photoContainer.style.opacity = "1";
        }
    }
</script>
